<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classroom Flare</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>

    <div class="app-container">
        
        <section id="view-landing" class="view active">
            <h1>Classroom Flare</h1>
            <div class="card landing-card">
                <h2>I am a...</h2>
                <div class="btn-group">
                    <button id="btn-create-room" class="btn primary">Teacher</button>
                    <button id="btn-join-room" class="btn secondary">Student</button>
                </div>
                
                <div id="input-area" class="hidden">
                    <input type="text" id="room-code-input" placeholder="Enter Room Name (e.g. MATH101)" autocomplete="off">
                    
                    <div id="pin-container" class="hidden">
                        <input type="password" id="teacher-pin-input" placeholder="Create or Enter 4-digit PIN" maxlength="4" pattern="\d{4}">
                        <p class="hint-text">Required to secure your room.</p>
                    </div>

                    <button id="btn-enter" class="btn action">Go</button>
                    <button id="btn-back" class="btn-xs text-btn">Back</button>
                </div>
            </div>
        </section>

        <section id="view-teacher" class="view">
            <header>
                <div class="room-tag">Room: <span id="teacher-room-display">...</span></div>
                <button id="btn-leave-teacher" class="btn-small">End Session</button>
            </header>

            <main>
                <div class="dashboard-grid">
                    <div class="card settings-card">
                        <h3>Configuration</h3>
                        
                        <div class="control-row">
                            <label>Trigger Sound</label>
                            <select id="sound-select">
                                <option value="siren">Siren</option>
                                <option value="bells">Bells</option>
                                <option value="meow">Meow</option>
                            </select>
                        </div>

                        <div class="control-row">
                            <label>Trigger Threshold (Students)</label>
                            <input type="number" id="threshold-input" value="3" min="1">
                        </div>

                        <div class="control-row">
                            <label>Student Cooldown (Seconds)</label>
                            <input type="number" id="cooldown-input" value="30" min="0" max="600">
                        </div>

                        <div class="control-row">
                            <label>Student Button Text</label>
                            <div class="flex-row">
                                <input type="text" id="btn-text-input" value="Slow down please">
                                <button id="btn-update-text" class="btn-xs">Update</button>
                            </div>
                        </div>
                        
                        <div class="status-indicator">
                            <span class="dot live"></span> Listening for signals...
                        </div>
                    </div>

                    <div class="card history-card">
                        <div class="history-header">
                            <h3>Signal History</h3>
                            <button id="btn-reset-count" class="btn-xs">Reset Count</button>
                        </div>
                        <div class="stat-summary">
                            <div>Total Signals: <span id="total-signals">0</span></div>
                        </div>
                        <ul id="history-list">
                            </ul>
                    </div>
                </div>
            </main>
        </section>

        <section id="view-student" class="view">
            <header>
                <div class="room-tag">Room: <span id="student-room-display">...</span></div>
                <button id="btn-leave-student" class="btn-xs" style="margin-left: auto;">Exit</button>
            </header>
            <div class="center-stage">
                <button id="btn-signal" class="big-red-button">
                    Slow down please
                </button>
                <p id="cooldown-msg" class="hidden">Please wait <span id="timer"></span>s</p>
            </div>
        </section>

    </div>

    <audio id="audio-siren" src="siren.mp3"></audio>
    <audio id="audio-bells" src="bells.mp3"></audio>
    <audio id="audio-meow" src="meow.mp3"></audio>

    <script type="module" src="script.js"></script>
</body>
</html>
