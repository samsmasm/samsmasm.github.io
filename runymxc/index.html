<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Runner Race: y = mx + c</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <h1>Runner Race: y = mx + c</h1>
  
  <!-- Speed display message -->
  <p id="speedDisplay"></p>
  <p>
    Amber starts at the start line (0 m) and runs 100 m to the finish (100 m). If Bob starts some metres from the start, where should he begin so they finish together?
  </p>

  <!-- Race track with start and finish lines, distance markers, and runner emojis -->
  <div id="track">
    <!-- Distance markers -->
    <div id="markers">
      <span class="marker" style="left:0%;">0</span>
      <span class="marker" style="left:10%;">10</span>
      <span class="marker" style="left:20%;">20</span>
      <span class="marker" style="left:30%;">30</span>
      <span class="marker" style="left:40%;">40</span>
      <span class="marker" style="left:50%;">50</span>
      <span class="marker" style="left:60%;">60</span>
      <span class="marker" style="left:70%;">70</span>
      <span class="marker" style="left:80%;">80</span>
      <span class="marker" style="left:90%;">90</span>
      <span class="marker" style="left:100%;">100</span>
    </div>
    <!-- Start line (left, 0 m) and finish line (right, 100 m) -->
    <div id="startLine"></div>
    <div id="finishLine"></div>
    <!-- Runners -->
    <span class="runner" id="amber">💃🏻</span>
    <span class="runner" id="bob">🧜🏻‍♂️</span>
  </div>

  <!-- Controls for user input -->
  <div id="controls">
    <label>
      Bob's Predicted Starting Position (m from start, between 0 and 100): 
      <input type="number" id="bobStart" placeholder="e.g., 15" />
    </label>
    <br>
    <label>
      Your Predicted Formula (y = mx + c): 
      <input type="text" id="predictedFormula" placeholder="y = mx + c" />
    </label>
    <br>
    <button onclick="testRace()">Test Race</button>
    <button onclick="revealAnswer()">Reveal the Answer</button>
    <button onclick="regenerateSpeeds()">New Speeds</button>
  </div>

  <!-- Container to display the correct formula -->
  <div id="answer">
    <p id="correctFormula"></p>
  </div>

  <!-- Graph canvas (hidden initially) -->
  <canvas id="graphCanvas" width="600" height="400" style="display: none; border: 1px solid #ccc;"></canvas>

  <!-- Legend -->
  <div id="legend">
    <div class="legend-item">
      <span class="legend-runner" id="amberLegend">💃🏻</span>
      <span>Amber</span>
    </div>
    <div class="legend-item">
      <span class="legend-runner" id="bobLegend">🧜🏻‍♂️</span>
      <span>Bob</span>
    </div>
  </div>

  <!-- Results panel (persisting across races) -->
  <div id="results">
    <h2>Race Results</h2>
    <ul id="resultsList"></ul>
  </div>

  <script src="script.js"></script>
</body>
</html>
